/*
 * ! OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/DefaultVariant","sap/ui/fl/StandardVariant","sap/ui/fl/apply/api/SmartVariantManagementApplyAPI","sap/ui/fl/ChangePersistenceFactory"],function(D,S,a,C){"use strict";var b={addChange:function(c,p){var s=a.getStableId(c);var o=C.getChangePersistenceForControl(c);return o.addChangeForVariant(a.PERSISTENCY_KEY,s,p);},save:function(c){var s=a.getStableId(c);var o=C.getChangePersistenceForControl(c);return o.saveAllChangesForVariant(s);},setDefaultVariantId:function(c,d){var p,o;var s=a.getStableId(c);var m={};m[a.PERSISTENCY_KEY]=s;var e=C.getChangePersistenceForControl(c);p={defaultVariantId:d,reference:e.getComponentName(),selector:m,validAppVersions:{creation:e._mComponent.appVersion,from:e._mComponent.appVersion}};var f=a.getChangeMap(c);o=D.updateDefaultVariantId(f,d);if(o){return o;}o=D.createChangeObject(p);var g=o.getId();f[g]=o;return o;},setExecuteOnSelect:function(c,e){var p,o;var s=a.getStableId(c);var m={};m[a.PERSISTENCY_KEY]=s;var d=C.getChangePersistenceForControl(c);p={executeOnSelect:e,reference:d.getComponentName(),selector:m};var f=a.getChangeMap(c);o=S.updateExecuteOnSelect(f,e);if(o){return o;}o=S.createChangeObject(p);var g=o.getId();f[g]=o;return o;}};return b;},true);
