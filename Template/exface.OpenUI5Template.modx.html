<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<meta http-equiv='Content-Type' content='text/html;charset=UTF-8'>
		<meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="240"/>
		<meta name="PalmComputingPlatform" content="true"/>
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">

		<title>[*pagetitle*]</title>

		<!-- Custom CSS -->
		<link href="exface/vendor/exface/OpenUI5Template/Template/js/openui5.template.css" rel="stylesheet" type="text/css" />

		<!–- 1.) Load SAPUI5, select theme and control library -–>
		<script src="exface/vendor/exface/OpenUI5Template/Template/js/openui5/resources/sap-ui-core.js"
				id="sap-ui-bootstrap"
				data-sap-ui-libs="sap.m,sap.tnt,sap.ui.unified,sap.ui.commons,sap.ui.table,sap.f,sap.uxap"
				data-sap-ui-theme="sap_belize">
		</script>
		<script type="text/javascript" src="exface/vendor/bower-asset/font-awesome-openui5/dist/font-awesome-openui5.min"></script>
		
		[[Exface? &action=`exface.Core.ShowHeaders` &template=`exface.OpenUI5Template`]]
		
		<script type="text/javascript" src="exface/vendor/exface/OpenUI5Template/Template/js/openui5.template.js"></script>
		<script type="text/javascript">
			// Main menu
			var oNavMenu = new sap.tnt.NavigationList({
				items:[
					[!Wayfinder? &startId=`1` &level=`10` &hideSubMenus=`1`
					 &outerTpl=`@CODE: [+wf.wrapper+]`
					 &innerTpl=`@CODE: [+wf.wrapper+]`
					 &rowTpl=`@CODE: new sap.tnt.NavigationListItem({icon: "folder-blank", text: "[+wf.linktext+]", select: function(){sap.ui.core.BusyIndicator.show(0); window.location.href = '[+wf.link+]';} }),`
					 &activeParentRowTpl=`@CODE: new sap.tnt.NavigationListItem({icon: "open-folder", text: "[+wf.linktext+]", items: [ [+wf.wrapper+] ], select: function(){sap.ui.core.BusyIndicator.show(0); window.location.href = '[+wf.link+]';} }),`
					 &lastRowTpl=`@CODE: new sap.tnt.NavigationListItem({icon: "folder-blank", text: "[+wf.linktext+]", select: function(){sap.ui.core.BusyIndicator.show(0); window.location.href = '[+wf.link+]';} })`
					 !]
					]
				});
			
			oShell.addPaneContent(oNavMenu);
			oShell.addHeadItem(
				new sap.ui.unified.ShellHeadItem({
					tooltip: "Configuration",
					icon: "sap-icon://menu2",
					press: function(){
						oShell.setShowPane(! oShell.getShowPane());
					}
				})
			);
			oShell.setSearch(
				new sap.m.Title({
					text: "[*pagetitle*]", 
					level: "H1",
					textAlign: "Center",
					width: "100%"
				})
					
			);
			oShell.setUser(
				new sap.ui.unified.ShellHeadUserItem({
					image: "[!UserManagerInfo? &field=`photo`!]",
					username: "[!UserManagerInfo? &field=`fullname`!]",
					press: function(){alert("User Item pressed");}
				})
			);
			
			oShell.placeAt("[*id*]");
			
		</script>
		
		[[Exface? &action=`exface.Core.ShowWidget` &template=`exface.OpenUI5Template` &fallback_field=`content`]]
		
		<script type="text/javascript">
			//oApp.showView(oApp.getViewTop());
			oShell.removeAllContent()
		    oShell.addContent(
		        (sap.ui.getCore().byId("view.[*alias*]") !== undefined ? sap.ui.getCore().byId("view.[*alias*]") : sap.ui.view({type:sap.ui.core.mvc.ViewType.JS, height: "100%", viewName:"view.[*alias*]"}))
		    );
		</script>

		
	</head>
	<body id="[*id*]" class="sapUiBody sapUiSizeCompact">

	</body>
</html>